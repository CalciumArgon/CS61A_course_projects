## 尾递归 和 树状递归

`hw02.py` 和 `hw03.py` 主要在于考察尾递归和树状递归的书写

核心就是下面的自动优化模型

[loop-recursion 转化](https://github.com/CalciumArgon/CS61A_course_projects/blob/main/image/loop-recursion.jpg)

为了不做任何 `=` 赋值 assignment 和 `for` `while` 循环，在主函数内定义一个递归函数，并从初始情况开始往上递归计算

比如计算 1^2 + 2^2 + 3^2 + ... + 
```python = 0
def add_square(n):
    def evaluate(i, acc):
        if i <= n:
            return evaluate(i+1, acc + i**2)
        return acc
    return evaluate(1, 0)
```

比如将 1^2 与 2^2 与 ... 之间的加号改成一般的 `combiner(a, b)`，这里假设 combiner 是具有交换性的函数

```python +=
def combine_square(n, combiner):
    def evaluate(i, acc):
        if i <= n:
            return evaluate(i+1, combiner(acc, i**2))
        return acc
    return evaluate(1, 0)
```